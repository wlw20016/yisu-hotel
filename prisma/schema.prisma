// prisma/schema.prisma

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

// âŒ åˆ é™¤åŸæ¥çš„ enum Role { ... } å—
// âŒ åˆ é™¤åŸæ¥çš„ enum HotelStatus { ... } å—

model User {
  id        Int      @id @default(autoincrement())
  username  String   @unique
  password  String
  // ğŸ‘‡ ä¿®æ”¹ï¼šç±»å‹æ”¹ä¸º Stringï¼Œé»˜è®¤å€¼ç”¨å­—ç¬¦ä¸²å†™æ³•
  role      String   @default("MERCHANT") 
  createdAt DateTime @default(now())
  hotels    Hotel[]
}

model Hotel {
  id          Int      @id @default(autoincrement())
  title       String
  description String?
  address     String
  price       Int
  score       Float    @default(4.5)
  star        Int      @default(3)
  images      String   
  tags        String   
  
  // ğŸ‘‡ ä¿®æ”¹ï¼šç±»å‹æ”¹ä¸º Stringï¼Œé»˜è®¤å€¼ç”¨å­—ç¬¦ä¸²å†™æ³•
  status       String   @default("PENDING") 
  rejectReason String?
  
  createdAt    DateTime @default(now())
  updatedAt    DateTime @updatedAt
  
  merchantId   Int
  merchant     User     @relation(fields: [merchantId], references: [id])
  rooms        Room[]
}

model Room {
  id        Int     @id @default(autoincrement())
  title     String
  price     Int
  stock     Int
  images    String?
  hotelId   Int
  hotel     Hotel   @relation(fields: [hotelId], references: [id])
}